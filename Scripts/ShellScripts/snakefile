rule nano_index:
	input:
		"fast5_files/",
		"output.fastq"
	output:
		"output.fastq.index"
	shell:
		"nanopolish index -d {input} -> {output}"

rule minimap_align:
	input:
		"output.fastq",
		"reference.fasta"
	output:
		"output.sorted.bam"
	shell:
		"minimap2 -a -x map-ont {input} | samtools sort -T tmp -o {output}"
